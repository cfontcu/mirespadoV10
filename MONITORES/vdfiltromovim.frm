# MOdulo   : VDFILTROMONI.FRM
# Función  : Filtro aplicable al monitor de movimientos
#
# Creación : 06-08-2008
# Autor    : JMM
###########################################
# HistOrico de cambios:
#
CAMPO=RANALM,AUXILIAR,OCULTO,"_1024_"
CAMPO=RANALMAUX,AUXILIAR,OCULTO,"_1024_"
CAMPO=RANDIV,AUXILIAR,OCULTO,"_1024_"
CAMPO=RANDIVAUX,AUXILIAR,OCULTO,"_1024_"
CAMPO=RANAREA,AUXILIAR,OCULTO,"_1024_"
CAMPO=RANAREAAUX,AUXILIAR,OCULTO,"_1024_"
CAMPO=RANPERFIL,AUXILIAR,OCULTO,"_1024_"
CAMPO=RANPERFILAUX,AUXILIAR,OCULTO,"_1024_"
BEGINBLOQUE=VDFILTROALMA.PAN
  PREREGISTRO=PRESEHIJO
  CAMPO=RANALM,AUXILIAR,VIRTUAL,OCULTO
  CAMPO=RANALMAUX,AUXILIAR,VIRTUAL,OCULTO
  CAMPO=RANDIV,AUXILIAR,VIRTUAL,OCULTO
  CAMPO=RANDIVAUX,AUXILIAR,VIRTUAL,OCULTO
  CAMPO=RANAREA,AUXILIAR,VIRTUAL,OCULTO
  CAMPO=RANAREAAUX,AUXILIAR,VIRTUAL,OCULTO
  CAMPO=RANPERFIL,AUXILIAR,VIRTUAL,OCULTO
  CAMPO=RANPERFILAUX,AUXILIAR,VIRTUAL,OCULTO
  NOINSERT
  NOUPDATE
  NODELETE
  NOCOMMIT
  REGPAG=10
  POSTQUERY=FEJECUTA("+CRELLENASEL","")
  PRECOMMIT=FEJECUTA("+CCOPIARAN","")
  CURSOR=CRELLENASEL SELECT DECODE(VD.CONTIENECAD(:RANALMAUX,:CODALM),1,'S',NULL) SEL FROM DUAL WHERE :RANALMAUX IS NOT NULL;
  CURSOR=CCOPIARAN SELECT :RANALM RANALMAUX FROM DUAL;  
  CURSOR=CBORRAFILTRO SELECT NULL RANALM, NULL RANALMAUX FROM DUAL;
  TECLA=F9,FEJECUTA("+CBORRAFILTRO","",+FPULSATECLAS("F3","F2"),"")
  TITULO=SELECCION DE ALMACEN ORIGEN
  ONLINE=     {F1} Ayuda {F2} Consulta {F4} Confirmar cambios {F9} Borrar Filtro {F10} Volver a pantalla anterior;
ENDBLOQUE
BEGINBLOQUE=VDFILTROAREA.PAN
  PADRE=VDFILTROALMA.PAN
  CAMPO=RANALM,AUXILIAR,VIRTUAL,OCULTO
  CAMPO=RANALMAUX,AUXILIAR,VIRTUAL,OCULTO
  CAMPO=RANDIV,AUXILIAR,VIRTUAL,OCULTO
  CAMPO=RANDIVAUX,AUXILIAR,VIRTUAL,OCULTO
  CAMPO=RANAREA,AUXILIAR,VIRTUAL,OCULTO
  CAMPO=RANAREAAUX,AUXILIAR,VIRTUAL,OCULTO
  CAMPO=RANPERFIL,AUXILIAR,VIRTUAL,OCULTO
  CAMPO=RANPERFILAUX,AUXILIAR,VIRTUAL,OCULTO
  POSX=40
  NOINSERT
  NOUPDATE
  NODELETE
  NOCOMMIT
  REGPAG=10
  WHERE=VD.CONTIENECAD(:RANALM,CODALM)=1;
  ORDERBY=CODALM,CODAREA;
  POSTQUERY=FEJECUTA("+CRELLENASEL","")
  PRECOMMIT=FEJECUTA("+CCOPIARAN","")
  CURSOR=CRELLENASEL SELECT DECODE(VD.CONTIENECAD(:RANAREAAUX,:CODAREA),1,'S',NULL) SEL FROM DUAL WHERE :RANAREAAUX IS NOT NULL;
  CURSOR=CCOPIARAN SELECT :RANAREA RANAREAAUX FROM DUAL;
  CURSOR=CBORRAFILTRO SELECT NULL RANAREA, NULL RANAREAAUX FROM DUAL;
  TECLA=F9,FEJECUTA("+CBORRAFILTRO","",+FPULSATECLAS("F3","F2"),"")
  TITULO=SELECCION DE AREA ORIGEN
  ONLINE=     {F1} Ayuda {F2} Consulta {F4} Confirmar cambios {F9} Borrar Filtro {F10} Volver a pantalla anterior;
ENDBLOQUE
BEGINBLOQUE=VDFILTRODIV.PAN
  CAMPO=RANALM,AUXILIAR,VIRTUAL,OCULTO
  CAMPO=RANALMAUX,AUXILIAR,VIRTUAL,OCULTO
  CAMPO=RANDIV,AUXILIAR,VIRTUAL,OCULTO
  CAMPO=RANDIVAUX,AUXILIAR,VIRTUAL,OCULTO
  CAMPO=RANAREA,AUXILIAR,VIRTUAL,OCULTO
  CAMPO=RANAREAAUX,AUXILIAR,VIRTUAL,OCULTO
  CAMPO=RANPERFIL,AUXILIAR,VIRTUAL,OCULTO
  CAMPO=RANPERFILAUX,AUXILIAR,VIRTUAL,OCULTO
  POSX=86
  NOINSERT
  NOUPDATE
  NODELETE
  NOCOMMIT
  REGPAG=10
  POSTQUERY=FEJECUTA("+CRELLENASEL","")
  PRECOMMIT=FEJECUTA("+CCOPIARAN","")
  CURSOR=CRELLENASEL SELECT DECODE(VD.CONTIENECAD(:RANDIVAUX,:CODDIV),1,'S',NULL) SEL FROM DUAL WHERE :RANDIVAUX IS NOT NULL;
  CURSOR=CCOPIARAN SELECT :RANDIV RANDIVAUX FROM DUAL;
  CURSOR=CBORRAFILTRO SELECT NULL RANDIV, NULL RANDIVAUX FROM DUAL;
  TECLA=F9,FEJECUTA("+CBORRAFILTRO","",+FPULSATECLAS("F3","F2"),"")
  ONLINE=     {F1} Ayuda {F2} Consulta {F4} Confirmar cambios {F9} Borrar Filtro {F10} Volver a pantalla anterior;
ENDBLOQUE
BEGINBLOQUE=VDFILTROPERFILTAREA.PAN
  CAMPO=RANALM,AUXILIAR,VIRTUAL,OCULTO
  CAMPO=RANALMAUX,AUXILIAR,VIRTUAL,OCULTO
  CAMPO=RANDIV,AUXILIAR,VIRTUAL,OCULTO
  CAMPO=RANDIVAUX,AUXILIAR,VIRTUAL,OCULTO
  CAMPO=RANAREA,AUXILIAR,VIRTUAL,OCULTO
  CAMPO=RANAREAAUX,AUXILIAR,VIRTUAL,OCULTO
  CAMPO=RANPERFIL,AUXILIAR,VIRTUAL,OCULTO
  CAMPO=RANPERFILAUX,AUXILIAR,VIRTUAL,OCULTO
  POSY=15
  NOINSERT
  NOUPDATE
  NODELETE
  NOCOMMIT
  REGPAG=10
  POSTQUERY=FEJECUTA("+CRELLENASEL","")
  PRECOMMIT=FEJECUTA("+CCOPIARAN","")
  CURSOR=CRELLENASEL SELECT DECODE(VD.CONTIENECAD(:RANPERFILAUX,:CODPERFIL),1,'S',NULL) SEL FROM DUAL WHERE :RANPERFILAUX IS NOT NULL;
  CURSOR=CCOPIARAN SELECT :RANPERFIL RANPERFILAUX FROM DUAL;
  CURSOR=CBORRAFILTRO SELECT NULL RANPERFIL, NULL RANPERFILAUX FROM DUAL;
  TECLA=F9,FEJECUTA("+CBORRAFILTRO","",+FPULSATECLAS("F3","F2"),"")  
  ONLINE=     {F1} Ayuda {F2} Consulta {F4} Confirmar cambios {F9} Borrar Filtro {F10} Volver a pantalla anterior;
ENDBLOQUE

