###################################################################
#Módulo: VDCREASERIE.FRM
#Funcionalidad : Creación de series de preparación
#Autor: FPD      
#Fecha: 08-04-2008
###################################################################
# Histórico de cambios:
CAMPO=TODOS,NOUPDATE,AUXILIAR,OCULTO,"__"

PREFORM=FEJECUTA("+CSELTODOS","")
BEGINBLOQUE=VDCREASERIE.PAN
 PREREGISTRO=PRESEHIJO(FPREGUNTAR("0"),"")
 REGPAG=2
 POSX=1
 POSY=1
 WLONX=1190
 WHERE=STATUS < VDST.FSPRLANZADA;
 CAMPO=TODOS,VIRTUAL,NOUPDATE,AUXILIAR,OCULTO
 CURSOR=CSELTODOS SELECT 'N' TODOS FROM DUAL;
ENDBLOQUE

BEGINBLOQUE=VDCRITERIOSERIE.PAN
 PREREGISTRO=PRESEHIJO(FPREGUNTAR("0"),"")
 PADRE=VDCREASERIE.PAN
 REGPAG=1
 POSY=8
 WLONX=1190
 CAMPO=TOTPED,AUXILIAR,NOUPDATE,VIRTUAL,OCULTO
 CAMPO=TOTLIN,AUXILIAR,NOUPDATE,VIRTUAL,OCULTO
 CAMPO=TOTUNI,AUXILIAR,NOUPDATE,VIRTUAL,OCULTO
 CAMPO=TOTBU,AUXILIAR,NOUPDATE,VIRTUAL,OCULTO
 CAMPO=TOTBC,AUXILIAR,NOUPDATE,VIRTUAL,OCULTO
 CAMPO=TOTBP,AUXILIAR,NOUPDATE,VIRTUAL,OCULTO
ENDBLOQUE

BEGINBLOQUE=VDINCLUYEPEDSERIE.PAN
 PREREGISTRO=PRESEHIJO(FPREGUNTAR("0"),"")
 WHERE=( NVL(CODSERIEPREP,0) =0 OR CODSERIEPREP=:CODSERIEPREP) AND NVL(CODSERIEEXP,0)=0 AND
      STATUS BETWEEN VDST.FPECPDTESERIE AND VDST.FPECPDTELANZAR AND
      FECSERVICIO+0 BETWEEN DECODE(:FECHADESDE,0,1,:FECHADESDE) AND 
                            DECODE(:FECHAHASTA,0,TO_CHAR(ADD_MONTHS(SYSDATE,12),'J'),:FECHAHASTA) AND
      (URGENCIA BETWEEN :URGENCIAMIN AND DECODE(:URGENCIAMAX,0,99,:URGENCIAMAX)) AND
      (CODAGE LIKE :CODAGEAUX OR :CODAGEAUX IS NULL) AND
      (CODCLIENTE LIKE :CLIENTEAUX OR :CLIENTEAUX IS NULL) AND
      (CODDIV LIKE :CODDIVAUX OR :CODDIVAUX IS NULL) AND
      (TIPOPEDIDO LIKE :TIPOPEDIDOAUX OR :TIPOPEDIDOAUX IS NULL) AND
      (PEDIDOCLIENTE LIKE :PEDIDOCLIENTEAUX OR :PEDIDOCLIENTEAUX IS NULL);
 PADRE=VDCRITERIOSERIE.PAN
 WLONX=1190
 POSY=15
 REGPAG=20
 CAMPO=TOTPED,AUXILIAR,NOUPDATE,VIRTUAL,OCULTO
 CAMPO=TOTLIN,AUXILIAR,NOUPDATE,VIRTUAL,OCULTO
 CAMPO=TOTUNI,AUXILIAR,NOUPDATE,VIRTUAL,OCULTO
 CAMPO=TOTBU,AUXILIAR,NOUPDATE,VIRTUAL,OCULTO
 CAMPO=TOTBC,AUXILIAR,NOUPDATE,VIRTUAL,OCULTO
 CAMPO=TOTBP,AUXILIAR,NOUPDATE,VIRTUAL,OCULTO
 CAMPO=TIPOPEDIDOAUX,NOUPDATE,AUXILIAR,TITULO("Tipo"),VIRTUAL,AUXILIAR,OCULTO
 CAMPO=PEDIDOCLIENTEAUX,NOUPDATE,AUXILIAR,TITULO("Referencia"),VIRTUAL,AUXILIAR,OCULTO
ENDBLOQUE

BEGINBLOQUE=VDPEDLIN.PAN
 PADRE=VDINCLUYEPEDSERIE.PAN
 POSY=39
 REGPAG=15
ENDBLOQUE



